<!--<form class="form-filter" [formGroup]="ordersForm" (ngSubmit)="processOrder()">
	<div class="row" style = "padding:5px">
		<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"></div>
		<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"></div>
		<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><button class = "btn btn-primary btn-sm btn-block float-right">PROCESS ORDER</button></div>
	</div>
	<div class="row align-items-center justify-content-center" formArrayName="projects">
		<div class = "col-xs-12 col-sm-12 col-md-12 col-lg-12" *ngIf="!ordersLoaded">
			<div class="progress">
				<div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
			</div>
		</div> 
		<div class = "col-xs-12 col-sm-12 col-md-12 col-lg-12" >
			<div class="row align-items-center justify-content-center" *ngFor="let project of getOrderProjects(ordersForm); let i = index" [formGroupName]="i" >
				<div class = "col-xs-12 col-sm-12 col-md-12 col-lg-12">
					{{ project.value.name }} {{ i }}
				</div>
				 <div class = "col-xs-12 col-sm-12 col-md-12 col-lg-12" *ngFor="let order of getProjectOrders(project); let n = index" [formGroupName]="n">
					{{ order.value.orderID }} {{ n }}
				</div>
				 <!-- {{ ordersForm.controls.projects.controls[1].controls.orders.controls[1].value.orderID}}
			</div>
			
			  <table class="table table-striped">
			  <thead>
			    <tr>
			      <th scope="col"><input type="checkbox" aria-label="Checkbox for following text input" style = "height:25px;width:25px;" (click) = "checkToggle()"></th>
			      <th scope="col">Description</th>
			      <th scope="col">Group</th>
			      <th scope="col">Category</th>
			      <th scope="col">Rate</th>
			      <th scope="col">Quantity</th>
			    </tr>
			  </thead>
			  <tbody>
			    <tr  *ngFor="let OrderItemControl of ordersForm.get('orderItem').controls; let i = index" [formGroupName]="i" >
			      <td scope="row"><input *ngIf="OrderItemControl.value.quantityRemaining > 0" type="checkbox" (click) = "onOrderCheck(i)" aria-label="Select to Order" style = "height:25px;width:25px;" checked = "{{ checked }}" formControlName="status"></td>
			      <td>{{ OrderItemControl.value.description }}</td>
			      <td>{{ OrderItemControl.value.group }}</td>
			      <td>{{ OrderItemControl.value.category }}</td>
			      <td>{{ OrderItemControl.value.quantityRemaining }}</td>
			      
			    </tr>
			  </tbody>
			</table>
			
		</div>
	</div>
</form>-->
<div class="row" style = "padding:5px">
	<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><button class = "btn btn-primary btn-sm btn-block" (click) = 'deleteItems()' *ngIf="itemsSelected > 0">DELETE SELECTED ITEMS</button></div>
	<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
		<button class = "btn btn-primary btn-sm btn-block" (click) = 'showDetailToggle()' *ngIf="!showDetail">SHOW DETAIL</button>
		<button class = "btn btn-primary btn-sm btn-block" (click) = 'showDetailToggle()' *ngIf="showDetail">HIDE DETAIL</button>
	</div>
	<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4"><button class = "btn btn-primary btn-sm btn-block float-right" (click) = 'processOrder()'>PROCESS ORDER</button></div>
</div>
<form [formGroup]="ordersForm" novalidate>
	<div class = "col-xs-12 col-sm-12 col-md-12 col-lg-12" *ngIf="!ordersLoaded" style = "padding:10px;">
		<div class="progress">
			<div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
		</div>
	</div> 
	<div formArrayName="projects" *ngIf="ordersLoaded">
		<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" *ngIf="noOrders">
			<div class="alert alert-danger" role="alert">
		  <strong>No Orders:</strong> There are no orders to process at this time. Check again later.
		</div>
		</div>
		<div class="row" *ngFor="let project of getProjects(ordersForm); let i = index" style = "padding:10px;">
			<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" [formGroupName]="i">
				<h4>{{ project.value.name }}</h4>
				<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" formArrayName="items">
					<div class="row" style = "font-weight:bold;">
						<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">DESCRIPTION</div>
						<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">QUANTITY</div>
						<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">SUPPLIER</div>
					</div>
					<div class="row" [formGroupName]="k" *ngFor="let item of getItems(project); let k = index">
						<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">{{ item.value.description }}</div>
						<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">{{ item.value.quantity }}</div>
						<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
							<select class="custom-select mr-sm-2" formControlName="supplier">
						    	<option value = 'instruction' hidden>Select a Supplier</option>
						    	<option *ngFor = "let supplier of suppliers.suppliers" value = "{{ supplier.supplierID }}">{{ supplier.name }}</option>
						    </select>
						</div>
						<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" formArrayName="breakdown" *ngIf="showDetail" style = "padding-bottom:20px;">
							<div class="row" style = "font-weight:bold;">
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">PROJECT</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">TOWNSHIP</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">ERF</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">PUA</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">BUILDING</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">DESCRIPTION</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">GROUP</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">CATEGORY</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">QUANTITY</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">RATE</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">CONTRACT ALLOCATION</div>
							</div>
							<div class="row" [formGroupName]="l" *ngFor="let breakdown of getBreakdown(item); let l = index">
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">
									<input type="checkbox" aria-label="Select to Delete" (click)="selectItem(i,k,l)" style = "height:25px;width:25px;" formControlName="outcome">
								</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">{{ breakdown.value.project }}</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">{{ breakdown.value.township }}</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">{{ breakdown.value.erf }}</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">{{ breakdown.value.PUA }}</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">{{ breakdown.value.building }}</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">{{ breakdown.value.description }}</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">{{ breakdown.value.group }}</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">{{ breakdown.value.category }}</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">{{ breakdown.value.quantity }}</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">{{ breakdown.value.rate }}</div>
								<div class="col-xs-12 col-sm-12 col-md-1 col-lg-1">{{ breakdown.value.contractAllocation }}</div>
							</div>
						</div>
					</div>
				</div>
			</div>	
		</div>
	</div>
	<!-- End Section -->
</form>
<!-- 
<form [formGroup]="survey" novalidate (ngSubmit)="onSubmit(survey)">
	<!---Survey Section
	<div formArrayName="sections">
		<div class="section-container" *ngFor="let section of getSections(survey); let i = index">
			<div class="ui raised segments" [formGroupName]="i">
				<h4 class="ui header">Section Details</h4>
				<input type="text" placeholder="Untitled form" formControlName="sectionTitle">
				<input type="text" placeholder="Form Description" formControlName="sectionDescription">
				<!-- Question segment 
				<!---Survey Section 
				<hr>
				<div class="question-container" formArrayName="questions">
					<div [formGroupName]="j" *ngFor="let question of getQuestions(section); let j = index">
						<input type="text" placeholder="Untitled Question" formControlName="questionTitle">
						<select formControlName="questionType">  
                        <option></option>
                          <option>Check Boxes</option>
                          <option>Free Text</option>
                          <option>Rating</option>
                          <option>Date</option>
                          <option>Time</option>
                      </select>

  <div *ngIf="survey.errors" class="alert alert-danger">
          {{ survey.errors }}
        </div>
						<hr>
						<a (click)="add(i,j)">Add Option</a>
						<a (click)="remove(i,j)">Remove whole options</a>
						<!-- Option Addation 
						<div formArrayName="options">
							<div [formGroupName]="k" *ngFor="let option of getOptions(question); let k=index">
								<input type="radio" disabled="disabled">
								<input type="text" placeholder="Option 1" formControlName="optionTitle">

								<a (click)="remove(i,j)">R Option</a>
								<span *ngIf="getOptions(question).length > 1" (click)="removeOption(i,j,k)">Remove Option</span>
							</div>
							<!-- End Option Addition -->
							<!-- Option Addtion -->
							<!-- End Option Addition

						</div><br>
						<a (click)="addQuestion(i)">Add Question...</a>
						<span *ngIf="getQuestions(section).length > 1" (click)="removeQuestion(i)">Remove Question</span>
					</div><br>
				</div>
				<!-- End Question 

			</div><br>
			<button (click)="addSection()" class="point">Add Section </button>
			<span *ngIf="getSections(survey).length > 1" (click)="removeSection(i)">Remove Section</span>
		</div>
	</div>
	<!-- End Section 
</form>

<pre> {{survey.value | json}} </pre>-->